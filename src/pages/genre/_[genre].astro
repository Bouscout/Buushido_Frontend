---
import MainLayout from "../../layouts/main_layout.astro"
import { Nuage_9 } from "../../components/accueil/decorations/decor"
import Genres_serie from "../../components/genres/genre.jsx"
import Footer from "../../layouts/footer.astro"
import NavigationBar from "../../layouts/navigation_bar.astro"
export async function getStaticPaths(){
const genres = ['Action', 'Aventure', 'Horreur', 'Romance', 'Mystere', 'Comedie', 'Drama', 'Thriller', 'Fantaisie', 'Sci-fi', 
'Seinen', 'Shonen', 'Shojo', 'Ecchi', 'Slice of life', 'Isekai']
return genres.map(genre => ({
    params : {genre : genre},
})) 
}

const {genre} = Astro.params
const serie_genre = await fetch('https://buushido.ml/api/genre/'+genre+'/')
const serie_data = await serie_genre.json()

const pos = {
    top : '50%',
    left : '50%',
    translate : '-50% -50%',
    position : 'fixed',
}
---

<link rel="preload stylesheet" href="/styles/genres/main.css" as="style" type="text/css">
<link rel="preload stylesheet" href="/styles/genres/small.css" as="style" type="text/css" media="screen and (max-width: 800px)">
<link rel="preload stylesheet" href="/styles/genres/load.css" as="style"  type="text/css">
<link rel="preload stylesheet" href="/styles/general/clouds.css" as="style" type="text/css">	


<MainLayout>
    <NavigationBar/>
    <Genres_serie name={genre} data={serie_data} />
    <Nuage_9 style={{
        position : 'absolute',
        top : '5%',
        filter : 'brightness(30%)'
    }} />
   
    <Footer />
</MainLayout>